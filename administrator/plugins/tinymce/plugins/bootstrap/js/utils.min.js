"use strict";function makeResponsive(){$("body").width()<768&&$(".container").addClass("container-xs")}function getBootstrapStyles(){var a,b,c,d;a=b=$(window.parent.document.body).find(".mce-edit-area iframe").contents().find(".mce-content-body").css("background-color"),a.match(/rgb(255, 255, 255)/)?$("body").css("background-color","#fafafa"):(a=shadeRGBColor(a,.07),c=shadeRGBColor(a,-.2),d=shadeRGBColor(a,.3),$("body").css("background-color",a),$(".choice-title, #preview-title, #code-title").css("border-top-color",c),$("<style>.choice-title:after, #preview-title:after, #code-title:after{border-top-color: "+d+"}</style>").appendTo("head"),$("#preview").css("background-color",b))}function shadeRGBColor(a,b){var c=a.split(","),d=0>b?0:255,e=0>b?-1*b:b,f=parseInt(c[0].slice(4)),g=parseInt(c[1]),h=parseInt(c[2]);return"rgb("+(Math.round((d-f)*e)+f)+","+(Math.round((d-g)*e)+g)+","+(Math.round((d-h)*e)+h)+")"}function toggleBtn(a){return $(a).find(".btn").toggleClass("active"),$(a).find(".btn").toggleClass("btn-success"),$(a).find(".btn").toggleClass("btn-default"),"true"==$(a).find(".active").attr("data-attr")?!0:!1}function toggleAllBtns(a,b){return $(a).each(function(){b?($(this).find('button[data-attr="false"]').addClass("active").removeClass("btn-default").addClass("btn-success"),$(this).find('button[data-attr="true"]').removeClass("active").removeClass("btn-success").addClass("btn-default")):($(this).find('button[data-attr="true"]').addClass("active").removeClass("btn-default").addClass("btn-success"),$(this).find('button[data-attr="false"]').removeClass("active").removeClass("btn-success").addClass("btn-default"))}),$(a).find(".btn").toggleClass("active"),$(a).find(".btn").toggleClass("btn-success"),$(a).find(".btn").toggleClass("btn-default"),"true"==$(a).find(".active").attr("data-attr")?!0:!1}function getCode(a){var b;return b=$(window.parent.document.body).find(".mce-tinymce-inline")[0]?$(window.parent.document.body).find(".mce-edit-focus").find(a).clone().wrap("<div>").parent().html():$(window.parent.document.body).find(".mce-edit-area iframe").contents().find(a).clone().wrap("<div>").parent().html()}function updateCode(){var a=$("#test-wrapper").html();$("<div>").html(a).find("table.table").length>0&&"new-table"==$("<div>").html(a).find("table.table").attr("data-attr")&&a==$("<div>").html(a).find("th, td").text("cell").closest("div").html();for(var b=new Array(/\s?data-mce-[a-z]+="[^"]+"/g),c=new Array("","","","",""),d=b.length-1;d>=0;d--)a=a.replace(b[d],c[d]);var e=new Array(["class"]),f=new Array(["span"]);$("#test-wrapper").hasClass("test-icon-wrapper")?(e.push(["style"]),a=$.trim(escapeHtml($.htmlClean(a,{format:!0,allowedAttributes:e,allowEmpty:f})))):a=$.trim(escapeHtml($("#test-wrapper").hasClass("test-snippet-wrapper")?a:$.htmlClean(a,{format:!0,allowedAttributes:e,allowEmpty:f}))),$("#code-wrapper").fadeOut(200,function(){$(this).html('<pre class="prettyprint">'+a+"</pre>"),prettyPrint(),$(this).fadeIn(200)}),parent.document.getElementById("bs-code").value=a}function escapeHtml(a){var b={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#039;"};return a.replace(/[&<>"']/g,function(a){return b[a]})}$("#code-slide-link").on("click",function(){$("#code-wrapper").slideToggle(400,function(){"block"==$("#code-wrapper").css("display")?$("#code-slide-link i").removeClass("glyphicon-arrow-down").addClass("glyphicon-arrow-up"):$("#code-slide-link i").removeClass("glyphicon-arrow-up").addClass("glyphicon-arrow-down")})}),function(a){var b,c=a();a.fn.sortable=function(d){var e,f=String(d);return d=a.extend({connectWith:!1,calllback:function(){}},d),this.each(function(){if(/^enable|disable|destroy$/.test(f))return e=a(this).children(a(this).data("items")).attr("draggable","enable"==f),void("destroy"==f&&e.add(this).removeData("connectWith items").off("dragstart.h5s dragend.h5s selectstart.h5s dragover.h5s dragenter.h5s drop.h5s"));var g,h;e=a(this).children(d.items);var i=a("<"+(/^ul|ol$/i.test(this.tagName)?"li":"div")+' class="sortable-placeholder">');e.find(d.handle).mousedown(function(){g=!0}).mouseup(function(){g=!1}),a(this).data("items",d.items),c=c.add(i),d.connectWith&&a(d.connectWith).add(this).data("connectWith",d.connectWith),e.attr("draggable","true").on("dragstart.h5s",function(c){if(d.handle&&!g)return!1;g=!1;var e=c.originalEvent.dataTransfer;e.effectAllowed="move",e.setData("Text","dummy"),h=(b=a(this)).addClass("sortable-dragging").index()}).on("dragend.h5s",function(){a(this).hasClass("sortable-dragging")&&(b.removeClass("sortable-dragging").show(),c.detach(),d.callback.call(this)),b=null}).not("a[href], img").on("selectstart.h5s",function(){return this.dragDrop&&this.dragDrop(),!1}).end().add([this,i]).on("dragover.h5s dragenter.h5s drop.h5s",function(f){return e.is(b)||d.connectWith===a(b).parent().data("connectWith")?"drop"==f.type?(f.stopPropagation(),c.filter(":visible").after(b),!1):(f.preventDefault(),f.originalEvent.dataTransfer.dropEffect="move",e.is(this)?(d.forcePlaceholderSize&&i.height(b.outerHeight()),b.hide(),a(this)[i.index()<a(this).index()?"after":"before"](i),c.not(i).detach()):c.is(this)||a(this).children(d.items).length||(c.detach(),a(this).append(i)),!1):!0})})}}(jQuery),$.fn.scrollToTop=function(){this.length>0&&$("body, html").animate({scrollTop:$(this).offset().top},500)};